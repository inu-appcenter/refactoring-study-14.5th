## 11.6 질의 함수를 매개변수로 바꾸기

- 코드를 읽다 보면 함수 안에 두기엔 거북한 참조를 발견할 때 가 있다. **전역 변수를 참조**한다거 나（같은 모듈에 안에서라도）**제거하길 원하는 원소를 참조하는 경우**가 여기 속한다.
    
    —> 해당 참조를 매개변수로 바꿔 해결할 수 있다. 참조를 풀어내는 책임을 호출자로 옮기는 것.
    
- 이런 상황 대부분은 코드의 의존 관계를 바꾸려 할 때 벌어진다. 예컨대 **대상 함수가 더 이상 （매개변수화하려는) 특정 원소에 의존하길 원치 않을 때** 일어난다.

- 똑같은 값을 건네면 매번 똑같은 결과를 내는 함수는 다루기 쉽다. 이런 성질을 **참조 투명성**이라 한다.
- 참조 투명하지 않은 원소에 접근하는 모든 함수는 **참조 투명성을 잃게 되는데**, 이 문제는 **해당 원소를 매개변수로 바꾸면 해결됨**.
    - 즉, 이번 리팩토링을 활용하면 **참조 투명성을 얻어 테스트하거나 다루기가 쉬워지는 장점**이 있음
    
- 반대로 단점도 있음. 질의 함수를 매개변수로 바꾸면 어떤 값을 제공할지를 호출자가 알아야함. —> **호출자가 복잡해지는 결과를 낳음.**
